(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),o=n.n(r),s=n(13),l=n.n(s),i=n(2),c=n.n(i),u=function(e){var t=e.newName,n=e.newNumber,a=e.handleSubmit,r=e.handleNameChange,s=e.handleNumberChange;return o.a.createElement("form",{style:{textAlign:"center"},onSubmit:a},o.a.createElement("div",{style:{fontFamily:"Montserrat, sans-serif",margin:"10px auto",fontWeight:"bold"}},"name: ",o.a.createElement("input",{style:{borderRadius:"5px",fontFamily:"Montserrat, sans-serif"},onChange:r,value:t})),o.a.createElement("div",{style:{fontFamily:"Montserrat, sans-serif",margin:"10px auto",fontWeight:"bold"}},"number: ",o.a.createElement("input",{style:{borderRadius:"5px",fontFamily:"Montserrat, sans-serif"},onChange:s,value:n})),o.a.createElement("div",null,o.a.createElement("button",{style:{fontFamily:"Montserrat, sans-serif",borderRadius:"5px",background:"#000000",color:"#ffffff"},type:"submit"},"add")))},m=function(e){var t=e.person,n=e.delEntry;return o.a.createElement("div",{style:{textAlign:"center",fontFamily:"Montserrat, sans-serif"},key:t.id},o.a.createElement("span",{style:{fontWeight:"bold"}},t.name)," => ",o.a.createElement("span",{style:{fontWeight:"bold"}},t.number)," ",o.a.createElement("button",{style:{fontFamily:"Montserrat, sans-serif",borderRadius:"5px",background:"#000000",color:"#ffffff"},onClick:n},"delete"))},f=function(e){var t=e.persons,n=e.delEntry;return o.a.createElement("div",null,t.map(function(e){return o.a.createElement(m,{person:e,delEntry:n(e.id)})}))},d="/api/persons",g=function(e){return c.a.post(d,e).then(function(e){return e.data})},b=function(e){return c.a.delete("".concat(d,"/").concat(e)).then(function(e){return e.data})};n(36);l.a.render(o.a.createElement(function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1],l=Object(r.useState)(""),i=Object(a.a)(l,2),m=i[0],d=i[1],p=Object(r.useState)(""),h=Object(a.a)(p,2),E=h[0],y=h[1],v=Object(r.useState)({message:"",messageClass:"nothing"}),C=Object(a.a)(v,2),w=C[0],x=C[1];Object(r.useEffect)(function(){console.log("effect"),c.a.get("/api/persons").then(function(e){console.log("promise fulfilled"),s(e.data)})},[]);console.log(n);return o.a.createElement("div",null,o.a.createElement("h2",{style:{fontFamily:"Roboto Mono",textAlign:"center",textDecoration:"underline"}},"Phonebook"),o.a.createElement(function(e){var t=e.message,n=e.messageClass;return""===t?null:o.a.createElement("div",{className:n},t)},{message:w.message,messageClass:w.messageClass}),o.a.createElement(u,{newName:m,newNumber:E,handleSubmit:function(e){e.preventDefault();var t=new RegExp("^"+m+"$","g"),a=new RegExp("^"+m.toLowerCase()+"$","g"),r=new RegExp("^"+m.toUpperCase()+"$","g");0!==n.filter(function(e){return t.test(e.name)||a.test(e.name.toLowerCase())||r.test(e.name.toUpperCase())}).length?alert("".concat(m," is already added to phonebook")):g({name:m,number:E}).then(function(e){s(n.concat(e)),x({message:"Added ".concat(m),messageClass:"added"}),setTimeout(function(){return x({message:"",messageClass:"nothing"})},3e3),d(""),y("")})},handleNameChange:function(e){d(e.target.value)},handleNumberChange:function(e){y(e.target.value)}}),o.a.createElement("h2",{style:{fontFamily:"Roboto Mono",textAlign:"center",textDecoration:"underline"}},"Numbers"),o.a.createElement(f,{persons:n,delEntry:function(e){return function(){var t=n.find(function(t){return t.id===e});window.confirm("Delete ".concat(t.name,"?"))&&b(e).then(function(a){var r=n.filter(function(t){return t.id!==e});s(r),x({message:"".concat(t.name," is Deleted"),messageClass:"deleted"}),setTimeout(function(){return x({message:"",messageClass:"nothing"})},3e3)})}}}))},null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5d65a944.chunk.js.map