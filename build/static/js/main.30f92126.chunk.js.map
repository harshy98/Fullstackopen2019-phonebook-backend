{"version":3,"sources":["Components/Add.js","Components/ShowOne.js","Components/Show.js","Services/persons.js","index.js"],"names":["Add","props","newName","newNumber","handleSubmit","handleNameChange","handleNumberChange","onSubmit","onChange","value","type","ShowOne","person","delEntry","key","id","name","number","onClick","Show","persons","map","baseUrl","newObject","axios","post","then","response","data","delete","ReactDOM","render","useState","setPersons","setNewName","setNewNumber","message","messageClass","notif","setNotif","useEffect","console","log","get","className","event","preventDefault","regexp","RegExp","regexplower","toLowerCase","regexpupper","toUpperCase","filter","test","length","alert","personService","concat","setTimeout","target","find","window","confirm","newPersons","document","getElementById"],"mappings":"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","file":"static/js/main.30f92126.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Add = (props) => {\r\n\tconst {newName,newNumber,handleSubmit,handleNameChange,handleNumberChange} = props\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input onChange={handleNameChange} value={newName}/>\r\n        </div>\r\n\t\t<div>\r\n\t\t  number: <input onChange={handleNumberChange} value={newNumber}/>\r\n\t\t</div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Add","import React from 'react'\r\n\r\nconst ShowOne = (props) => {\r\n\tconst {person, delEntry} = props\r\n\t\r\n\treturn (\r\n\t\t<div key={person.id}>{person.name} {person.number} <button onClick={delEntry}>delete</button></div>\r\n\t)\r\n}\r\n\r\nexport default ShowOne","import React from 'react'\r\nimport ShowOne from './ShowOne'\r\nconst Show = (props) => {\r\n\tconst {persons, delEntry} = props\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{persons.map((person) => <ShowOne person={person} delEntry={delEntry(person.id)}/>)}\r\n\t  </div>\r\n\t)\r\n}\r\n\r\nexport default Show","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, del }\r\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport axios from 'axios'\nimport Add from './Components/Add'\nimport Show from './Components/Show'\nimport personService from './Services/persons'\nimport './index.css'\nconst baseUrl = '/api/persons'\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notif, setNotif ] = useState({message: \"\",messageClass: \"nothing\"})\n  \n  const Notification = ({ message, messageClass }) => {\n  if (message === '') {\n    return null\n  }\n  return (\n    <div className = {messageClass}>\n      {message}\n    </div>\n  )\n  }\n\n  const hook = () => {\n\n  console.log('effect')\n  axios\n    .get(baseUrl)\n    .then(response => {\n      console.log('promise fulfilled')\n      setPersons(response.data)\n    })\n  }\n\n  useEffect(hook, [])\n  \n  const handleNameChange = (event) => {\n\t  setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n\t  setNewNumber(event.target.value)\n  }\n  \n  const handleSubmit = (event) => {\n\t  event.preventDefault()\n\t  const regexp = new RegExp(\"^\"+newName+\"$\",'g')\n\t  const regexplower = new RegExp(\"^\"+newName.toLowerCase()+\"$\",'g')\n\t  const regexpupper = new RegExp(\"^\"+newName.toUpperCase()+\"$\",'g')\n\t  if(persons.filter(person => (regexp.test(person.name))||(regexplower.test(person.name.toLowerCase()))||(regexpupper.test(person.name.toUpperCase()))).length!==0){\n\t\t  alert(`${newName} is already added to phonebook`)\n\t  }\n\t  else{\n\t  const newPerson = {\n\t\t  name: newName,\n\t\t  number: newNumber\n\t\t}\n\t  personService.create(newPerson).then(response => {\n\t\t  setPersons(persons.concat(response))\n\t\t  setNotif({message: `Added ${newName}`,messageClass:\"added\"})\n\t\t  setTimeout(() => setNotif({message:\"\",messageClass:\"nothing\"}),3000)\n\t\t  setNewName('')\n\t\t  setNewNumber('')\n\t  })\n  }}\n  \n  console.log(persons)\n  \n  const delEntry = (id) => {\n\t  return () => {\n\t\t  const person = persons.find(person => person.id === id)\n\t\tif(window.confirm(`Delete ${person.name}?`)){\n\t\t\tpersonService.del(id).\n\t\t\tthen(response => {\n\t\t\t\tconst newPersons = persons.filter(person => person.id !== id)\n\t\t\t\tsetPersons(newPersons)\n\t\t\t\tsetNotif({message:`${person.name} is Deleted`,messageClass:\"deleted\"})\n\t\t\t\tsetTimeout(() => setNotif({message:\"\",messageClass:\"nothing\"}),3000)\n\t\t\t})\n\t\t}\n\t}\n  }\n  \n  return (\n    <div>\n\t\n      <h2>Phonebook</h2>\n\t  <Notification message={notif.message} messageClass={notif.messageClass} />\n\t  <Add newName={newName} newNumber={newNumber} handleSubmit={handleSubmit} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <Show persons={persons} delEntry={delEntry}/>\n    </div>\n  )\n}\n\nReactDOM.render(<App />,document.getElementById('root'))"],"sourceRoot":""}